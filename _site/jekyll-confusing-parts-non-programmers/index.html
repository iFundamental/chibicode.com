<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Jekyll: the Confusing Parts for Non-Programmers &middot; by @chibicode</title>
  <meta name="viewport" content="width=device-width">
  <link rel="stylesheet" href="/assets/stylesheets/app.css">
  <link href='http://fonts.googleapis.com/css?family=Inconsolata:400,700' rel='stylesheet' type='text/css'>
<link href='http://fonts.googleapis.com/css?family=Montserrat:700' rel='stylesheet' type='text/css'>
<link href="http://maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet">

</head>
<body>
  <div class="container">
    <p><small>Written by <a href="http://twitter.com/chibicode">@chibicode</a> on Aug 09, 2014. <a href="/">View all posts</a></small>.</p>

<h1 class="post-title"><a href="/jekyll-confusing-parts-non-programmers">Jekyll: the Confusing Parts for Non-Programmers</a></h1>
<p><img src="/assets/images/jekyll-confusing-parts-non-programmers/stickers.jpg" alt=""></p>

<p>I love <a href="http://jekyllrb.com/">Jekyll</a>. I&#39;ve been using it since version <code>0.11</code>, before there were <a href="http://staticsitegenerators.net/">million other static site generators</a>. I love it so much that I bought <a href="http://www.stickermule.com/marketplace/825-jekyll-stickers">a sticker on Stickermule</a>. Of course, this blog is <a href="https://github.com/chibicode/chibicode-new">powered by Jekyll</a>.</p>

<p>Recently, I&#39;ve been helping my <a href="http://twitter.com/ellekasai">girlfriend</a> develop a new Jekyll theme. She currently works as a designer in Tokyo and hasn&#39;t done much coding besides HTML, CSS, and some jQuery. I taught her basics of Jekyll <a href="http://chibicode.com/teaching-code-hardware-problem/">a year ago</a>, and although she had built a <a href="https://github.com/ellekasai/shinayaka">Jekyll theme</a> then, she has forgot many of the little details.</p>

<h2>Page v.s. Post: Which variable to use?</h2>

<p>As a review exercise, I asked her to iterate over all posts and display their excerpt. She went through her old code and found that <code>{% for post in site.posts %}</code> might do part of the job. She also read the <a href="http://jekyllrb.com/docs/variables/#page-variables">documentation</a> and discovered <code>page.excerpt</code>:</p>

<p><img src="/assets/images/jekyll-confusing-parts-non-programmers/documentation.png" alt=""></p>

<p>So she wrote:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">{% for post in site.posts %}
  {{ page.excerpt }}
{% endfor %}
</code></pre></div>
<p>We programmers immediately know that this is incorrect. It should be <code>post.excerpt</code> and not <code>page.excerpt</code>, since the <code>for</code> loop assigns <code>post</code> as the iterator variable.</p>

<p>I corrected, but the fix didn&#39;t seem to make much sense for her.</p>

<p>At first, I thought it&#39;s because she had no experience in a language that uses iterators. But after some introspection, I understood why her mental model was constructed the way it is. And it had more to do with how Jekyll was designed.</p>

<h2>Debugging her mental model</h2>

<p>First, Jekyll automatically makes available the <code>page</code> variable, which contains the information about the current page (e.g. <code>page.url</code>). In other words, what a <code>page</code> variable holds <em>varies</em> depending on what the current <em>context</em> is. In this case, the current page affected the context.</p>

<p>This made her think <em>conversely</em> that, all she needs to do is to keep track of what the current context is, and that she does <em>not</em> need to worry about using variables other than <code>page</code>.</p>

<p><a href="http://jekyllrb.com/docs/variables/#page-variables">The documentation</a> <em>enforced</em> her view because it kept using the <code>page</code> variable. To her, <code>page</code> was the only available variable that had anything to do with page data.</p>

<p><img src="/assets/images/jekyll-confusing-parts-non-programmers/documentation2.png" alt=""></p>

<p>So when she wrote this:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">{% for post in site.posts %}
  {{ page.excerpt }}
{% endfor %}
</code></pre></div>
<p>She thought that the <em>context had changed</em> inside the <code>for</code> loop, and therefore what <code>page</code> variable points to had changed, from the current page to each individual post.</p>

<p>But in Jekyll, the context doesn&#39;t change inside a <code>for</code> loop. It only changes when the current page changes. Instead, the <code>for</code> loop created a <code>post</code> variable, which contains the information about each page on each iteration.</p>

<p>She didn&#39;t realize this was the case because again, when she looked at the <a href="http://jekyllrb.com/docs/variables/#page-variables">documentation</a>, all she saw was a list of <code>page.blah</code>s. To her, a call like <code>post.blah</code> was unimaginable, and it was <em>more feasible</em> for her to think that the context had changed, allowing <code>page.blah</code> to work.</p>

<p>This is a <strong><a href="http://en.wikipedia.org/wiki/Path_of_least_resistance">path of least resistance</a></strong>, applied to mental models, at work.</p>

<p>On a side note, she could have written the <code>for</code> loop like this, and it would have worked:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">{% for page in site.posts %}
  {{ page.excerpt }}
{% endfor %}
</code></pre></div>
<p>However, if she wanted to access the <em>original</em> <code>page</code> variable inside the <code>for</code> loop, she&#39;s out of luck. The <code>page</code> variable declared in the <code>for</code> loop shadows the original <code>page</code> variable. That&#39;s why I taught her to use <code>for post in ...</code> instead of <code>for page in ...</code> in the first place.</p>

<h2>Conclusion</h2>

<p>I don&#39;t really know how to improve the documentation to prevent this kind of an error for beginning programmers using Jekyll. Maybe there&#39;s no need to, and we can say that Jekyll is mostly for savvy programmers [1].</p>

<p>But I think we ought to lower the barrier for design-minded people to play with Jekyll and ultimately create great themes. We have <a href="http://jekyllthemes.org/">jekyllthemes.org</a>, but the quality is not at the level of Wordpress or Tumblr themes yet. There&#39;s definitely a room for improvement.</p>

<p><a href="https://news.ycombinator.com/submit" class="hn-button" data-title="Jekyll: the Confusing Parts for Non-Programmers" data-url="http://chibicode.com/jekyll-confusing-parts-non-programmers/" data-count="horizontal" data-style="twitter">Vote on Hacker News</a></p>

<hr>

<ol>
<li>Ghost&#39;s founder had used the phrase &quot;even more complicated [than Wordpress]&quot; to describe Jekyll in his <a href="https://www.kickstarter.com/projects/johnonolan/ghost-just-a-blogging-platform">Kickstarter video</a>.</li>
</ol>

<p><small>Written by <a href="http://twitter.com/chibicode">@chibicode</a> on Aug 09, 2014. <a href="/">View all posts</a></small>.</p>


  </div>
  <script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-32987822-1', 'auto');
ga('send', 'pageview');

</script>
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
<script type="text/javascript">var HN=[];HN.factory=function(e){return function(){HN.push([e].concat(Array.prototype.slice.call(arguments,0)))};},HN.on=HN.factory("on"),HN.once=HN.factory("once"),HN.off=HN.factory("off"),HN.emit=HN.factory("emit"),HN.load=function(){var e="hn-button.js";if(document.getElementById(e))return;var t=document.createElement("script");t.id=e,t.src="//hn-button.herokuapp.com/hn-button.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(t,n)},HN.load();</script>

</body>
</html>
